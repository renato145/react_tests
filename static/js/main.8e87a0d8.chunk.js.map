{"version":3,"sources":["useAuData.js","index.js","skin_cancer_au.csv"],"names":["reAge","sortAges","d","b","res","exec","padStart","Test","require","data","age","filteredData","useMemo","filter","Age","map","i","key","Year","Sex","n","ReactDOM","render","useState","setData","useEffect","csv","src","then","csvdata","allData","years","Set","sexs","ages","sort","useAuData","setAge","className","onChange","e","target","value","width","height","document","getElementById","module","exports"],"mappings":"wNAIMA,EAAQ,WAERC,EAAW,SAACC,EAAGC,GACnB,IAAMC,EAAMJ,EAAMK,KAAKH,GAAG,GAC1B,OAAOE,EAAMA,EAAIE,SAAS,EAAG,KAAOJ,GCChCK,GALKC,EAAQ,GAKN,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IACdC,EAAeC,mBAAQ,kBAAQH,EAAKI,QAAO,SAAAX,GAAC,OAAIA,EAAEY,MAAMJ,OAAQ,CAACD,EAAMC,IAC7E,OACE,6BACGC,EAAaI,KAAI,SAACb,EAAEc,GAAH,OAChB,yBAAKC,IAAKD,GAAId,EAAEgB,KAAhB,IAAuBhB,EAAEiB,IAAzB,IAA+BjB,EAAEkB,SAwCzCC,IAASC,OAAO,mBAlCJ,WACV,IAAMb,EDViB,WAAO,IAAD,EACLc,mBAAS,MADJ,mBACtBd,EADsB,KAChBe,EADgB,KAc7B,OAXAC,qBAAU,WACRC,cAAIC,KAAKC,MAAK,SAAAC,GACZL,EAAQ,CACNM,QAASD,EACTE,MAAM,YAAK,IAAIC,IAAIH,EAAQd,KAAI,SAAAb,GAAC,OAAIA,EAAEgB,UACtCe,KAAK,YAAK,IAAID,IAAIH,EAAQd,KAAI,SAAAb,GAAC,OAAIA,EAAEiB,SACrCe,KAAM,YAAI,IAAIF,IAAIH,EAAQd,KAAI,SAAAb,GAAC,OAAIA,EAAEY,SAAOqB,KAAKlC,UAGpD,IAEIQ,ECJM2B,GADG,EAEQb,mBAAS,IAFjB,mBAERb,EAFQ,KAEH2B,EAFG,KAUhB,GANAZ,qBAAU,WACLhB,GACD4B,EAAO,cAER,CAAC5B,KAEAA,EACF,OAAO,2CAXO,IAaRqB,EAA+BrB,EAA/BqB,QAAsBI,GAASzB,EAAtBsB,MAAsBtB,EAAfwB,KAAexB,EAATyB,MAE9B,OACE,6BACE,yBAAKI,UAAU,SAAf,4BACA,yBAAKA,UAAU,YACb,sCACA,4BAAQC,SAAU,SAAAC,GAAC,OAAIH,EAAOG,EAAEC,OAAOC,QAAQA,MAAOhC,GACnDwB,EAAKnB,KAAI,SAAAb,GAAC,OACT,4BAAQe,IAAKf,EAAGwC,MAAOxC,GAAIA,QAIjC,kBAAC,EAAD,CAAMO,KAAMqB,EAASpB,IAAKA,IAC1B,uCAAaA,GACb,yBAAKiC,MA1CG,IA0CWC,OAzCV,SA+CC,MAASC,SAASC,eAAe,U,kBCtDjDC,EAAOC,QAAU,IAA0B,4C","file":"static/js/main.8e87a0d8.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport { csv } from 'd3';\nimport src from './skin_cancer_au.csv';\n\nconst reAge = /(\\d+)?.*/;\n\nconst sortAges = (d, b) => {\n  const res = reAge.exec(d)[1];\n  return res ? res.padStart(2, '0') : d;\n};\n\nexport const useAuData = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    csv(src).then(csvdata => {\n      setData({\n        allData: csvdata,\n        years: [...new Set(csvdata.map(d => d.Year))],\n        sexs: [...new Set(csvdata.map(d => d.Sex))],\n        ages: [...new Set(csvdata.map(d => d.Age))].sort(sortAges),\n      });\n    });\n  }, []);\n  \n  return data;\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { useAuData } from './useAuData';\nconst d3 = require('d3');\n\nconst width = 960;\nconst height = 500;\n\nconst Test = ({ data, age }) => {\n  const filteredData = useMemo(() => ( data.filter(d => d.Age===age) ), [data, age]);\n  return (\n    <div>\n      {filteredData.map((d,i) => (\n        <div key={i}>{d.Year} {d.Sex} {d.n}</div>\n      ))}\n    </div>\n  );\n}\n\nconst App = () => {\n  const data = useAuData();\n  const [ age, setAge ] = useState('');\n\n  useEffect(() => {\n    if(data){\n      setAge('All ages');\n    }\n  }, [data]);\n\n  if(!data){\n    return <pre>Loading...</pre>;\n  }\n  const { allData, years, sexs, ages } = data;\n\n  return (\n    <div>\n      <div className=\"title\">Skin cancer on Australia</div>\n      <div className=\"selector\">\n        <label>Age</label>\n        <select onChange={e => setAge(e.target.value)} value={age}>\n          {ages.map(d => (\n            <option key={d} value={d}>{d}</option>\n          ))}\n        </select>\n      </div>\n      <Test data={allData} age={age} />\n      <div>Query: {age}</div>\n      <svg width={width} height={height}>\n      </svg>\n    </div>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/skin_cancer_au.52f45d7d.csv\";"],"sourceRoot":""}